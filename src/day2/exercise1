# ===== Zadanie 1 =====
class Logger:
    def __enter__(self):
        print("Start sekcji logowania")

    def __exit__(self, exc_type, exc_value, traceback):
        print("Koniec sekcji logowania")


# PrzykÅ‚ad uÅ¼ycia
with Logger():
    print("WewnÄ…trz sekcji logowania")


# ===== Zadanie 2 =====
class FileWriter:
    def __init__(self, filepath):
        self.filepath = filepath
        self.file = None  

    def __enter__(self):
        self.file = open(self.filepath, 'w', encoding='utf-8')
        return self.file

    def __exit__(self, exc_type, exc_value, traceback):
        if self.file:
            self.file.close()
        return False


# ğŸ”¹ PrzykÅ‚ad uÅ¼ycia:
with FileWriter("test.txt") as f:
    f.write("To jest przykÅ‚adowy tekst.\n")
    f.write("Zapisany w bloku with.\n")

print("Zapis zakoÅ„czony.")

# ===== Zadanie 13 =====
class FileWriter2(FileWriter):
    def __exit__(self, exc_type, exc_value, traceback):
        super().__exit__(exc_type, exc_value, traceback)

        # JeÅ›li wystÄ…piÅ‚ wyjÄ…tek â€” wypisz komunikat
        if exc_type is not None:
            print(f"BÅ‚Ä…d podczas zapisu: {exc_value}")

        # False â†’ wyjÄ…tek NIE jest tÅ‚umiony
        return False


# ğŸ”¹ PrzykÅ‚ad uÅ¼ycia
try:
    with FileWriter2("test.txt") as f:
        f.write("Zaczynamy zapis...\n")
        raise ValueError("CoÅ› poszÅ‚o nie tak!")  # symulacja bÅ‚Ä™du
except Exception as e:
    print(f"WyjÄ…tek przechwycony poza blokiem: {e}")

# ===== Zadanie 4 =====
class SafeDivision:
    def __enter__(self):
        return self  

    def divide(self, a, b):
        return a / b 

    def __exit__(self, exc_type, exc_value, traceback):
        # JeÅ›li wystÄ…piÅ‚ wyjÄ…tek dzielenia przez zero
        if exc_type is ZeroDivisionError:
            print("Nie moÅ¼na dzieliÄ‡ przez zero")
            return True  
        return False


# ğŸ”¹ PrzykÅ‚ad uÅ¼ycia:
with SafeDivision() as sd:
    print(sd.divide(10, 2))   # poprawne dzielenie
    print(sd.divide(5, 0))    # wywoÅ‚a ZeroDivisionError, ale zostanie wytÅ‚umiony
    print("Dalsze dziaÅ‚anie programu po bÅ‚Ä™dzie")
